(function(M,b){typeof exports=="object"&&typeof module!="undefined"?module.exports=b(require("vue")):typeof define=="function"&&define.amd?define(["vue"],b):(M=typeof globalThis!="undefined"?globalThis:M||self,M["vue-table-scroll"]=b(M.Vue))})(this,function(M){"use strict";function b(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var B=b(M);function L(e){return e?e=parseInt(e,10):e=0,e}class k{constructor(){this.tableHeader=null,this.tableData=null,this.table=null}setData(t,i){this[t]=i}updateColumns(t){let i=this.tableHeader.filter(s=>!s.hidden),n=this.table.mergeOption.index?50:0,r=0,o=0;for(let s=0;s<i.length;s++)i[s].width&&(r+=L(i[s].width),L(i[s].width)&&o++);this.tableHeader=i.map(s=>(s.width||(s.width=L((t-r-n)/(i.length-o))),s))}}function P(e){const t=new k;return t.table=e,t}function O(e,t,i){var n=i||{},r=n.noTrailing,o=r===void 0?!1:r,s=n.noLeading,u=s===void 0?!1:s,a=n.debounceMode,l=a===void 0?void 0:a,h,f=!1,c=0;function v(){h&&clearTimeout(h)}function T(){v(),f=!0}function d(){for(var y=arguments.length,_=new Array(y),m=0;m<y;m++)_[m]=arguments[m];var De=this,$=Date.now()-c;if(f)return;function E(){c=Date.now(),t.apply(De,_)}function Ie(){h=void 0}!u&&l&&!h&&E(),v(),l===void 0&&$>e?u?c=Date.now():E():o!==!0&&(h=setTimeout(l?Ie:E,l===void 0?e-$:e))}return d.cancel=T,d}function I(e,t,i){return i===void 0?O(e,t,{debounceMode:!1}):O(e,i,{debounceMode:t!==!1})}var C=function(){if(typeof Map!="undefined")return Map;function e(t,i){var n=-1;return t.some(function(r,o){return r[0]===i?(n=o,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(i){var n=e(this.__entries__,i),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(i,n){var r=e(this.__entries__,i);~r?this.__entries__[r][1]=n:this.__entries__.push([i,n])},t.prototype.delete=function(i){var n=this.__entries__,r=e(n,i);~r&&n.splice(r,1)},t.prototype.has=function(i){return!!~e(this.__entries__,i)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(i,n){n===void 0&&(n=null);for(var r=0,o=this.__entries__;r<o.length;r++){var s=o[r];i.call(n,s[1],s[0])}},t}()}(),w=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,j=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),U=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(j):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),F=2;function V(e,t){var i=!1,n=!1,r=0;function o(){i&&(i=!1,e()),n&&u()}function s(){U(o)}function u(){var a=Date.now();if(i){if(a-r<F)return;n=!0}else i=!0,n=!1,setTimeout(s,t);r=a}return u}var G=20,Z=["top","right","bottom","left","width","height","size","weight"],q=typeof MutationObserver!="undefined",J=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=V(this.refresh.bind(this),G)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var i=this.observers_,n=i.indexOf(t);~n&&i.splice(n,1),!i.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return t.forEach(function(i){return i.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!w||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),q?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!w||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var i=t.propertyName,n=i===void 0?"":i,r=Z.some(function(o){return!!~n.indexOf(o)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),z=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},p=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||j},S=D(0,0,0,0);function N(e){return parseFloat(e)||0}function x(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce(function(n,r){var o=e["border-"+r+"-width"];return n+N(o)},0)}function X(e){for(var t=["top","right","bottom","left"],i={},n=0,r=t;n<r.length;n++){var o=r[n],s=e["padding-"+o];i[o]=N(s)}return i}function K(e){var t=e.getBBox();return D(0,0,t.width,t.height)}function ee(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return S;var n=p(e).getComputedStyle(e),r=X(n),o=r.left+r.right,s=r.top+r.bottom,u=N(n.width),a=N(n.height);if(n.boxSizing==="border-box"&&(Math.round(u+o)!==t&&(u-=x(n,"left","right")+o),Math.round(a+s)!==i&&(a-=x(n,"top","bottom")+s)),!ie(e)){var l=Math.round(u+o)-t,h=Math.round(a+s)-i;Math.abs(l)!==1&&(u-=l),Math.abs(h)!==1&&(a-=h)}return D(r.left,r.top,u,a)}var te=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof p(e).SVGGraphicsElement}:function(e){return e instanceof p(e).SVGElement&&typeof e.getBBox=="function"}}();function ie(e){return e===p(e).document.documentElement}function ne(e){return w?te(e)?K(e):ee(e):S}function re(e){var t=e.x,i=e.y,n=e.width,r=e.height,o=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return z(s,{x:t,y:i,width:n,height:r,top:i,right:t+n,bottom:r+i,left:t}),s}function D(e,t,i,n){return{x:e,y:t,width:i,height:n}}var se=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=D(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=ne(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),oe=function(){function e(t,i){var n=re(i);z(this,{target:t,contentRect:n})}return e}(),ae=function(){function e(t,i,n){if(this.activeObservations_=[],this.observations_=new C,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=i,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(t)||(i.set(t,new se(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;!i.has(t)||(i.delete(t),i.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&t.activeObservations_.push(i)})},e.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,i=this.activeObservations_.map(function(n){return new oe(n.target,n.broadcastRect())});this.callback_.call(t,i,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),A=typeof WeakMap!="undefined"?new WeakMap:new C,Y=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=J.getInstance(),n=new ae(t,i,this);A.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Y.prototype[e]=function(){var t;return(t=A.get(this))[e].apply(t,arguments)}});var ue=function(){return typeof j.ResizeObserver!="undefined"?j.ResizeObserver:Y}();const le=typeof window=="undefined",ce=function(e){for(let t of e){const i=t.target.__resizeListeners__||[];i.length&&i.forEach(n=>{n()})}},he=function(e,t){le||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new ue(I(16,ce)),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},de=function(e,t){!e||!e.__resizeListeners__||(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())};var R={computed:{tableLayout(){let e;if(this.table&&(e=this.table||this.table.$parent),!e)throw new Error("Can not find table");return e}},mounted(){this.onColumnsChange(this.tableLayout)},updated(){this.onColumnsChange(this.tableLayout)},methods:{onColumnsChange(e){var n;const t=e.store.tableHeader,i=this.$el.querySelectorAll("colgroup > col");if(!!i.length)for(let r=e.index?1:0,o=i.length;r<o;r++){const s=i[r];s.getAttribute("name")&&s.setAttribute("width",(n=t[r])==null?void 0:n.width)}}}},fe={name:"TableBody",mixins:[R],props:{store:{required:!0}},data(){return{tooltipContent:"",tipStyle:"",tableData:this.store.tableData,arrowStyle:"",yPos:0,realBoxHeight:0}},computed:{table(){return this.$parent},pos(){return{transform:`translateY(${this.yPos}px)`,transition:"all ease-in 0",overflow:"hidden"}},defaultOption(){return{step:2,singleStep:6,hoverStop:!0,singleHeight:48,singleStepMove:!1,delayTime:2e3,waitTime:2e3}},options(){return Object.assign({},this.defaultOption,this.tableLayout.options)},hoverStopSwitch(){return this.options.hoverStop},singleStep(){let e=this.options.singleStep;return this.options.singleHeight%e!==0&&console.warn("\u5F53\u524D\u5355\u6B65\u957F\u4E0D\u662F\u5355\u6761\u6570\u636E\u9AD8\u5EA6\u7684\u7EA6\u6570,\u8BF7\u53CA\u65F6\u8C03\u6574,\u907F\u514D\u9020\u6210\u6EDA\u52A8\u9519\u4F4D*&\u2026\u2026%&"),e}},beforeCreate(){this.VM=null,this.reqFrame=null,this.singleWaitTime=null,this.isHover=!1,this.isStart=!1},mounted(){const e=this.$parent.mergeOption.bodyHeight;if(this.$el.offsetHeight>e){this.tableData.push(...this.tableData),this.isStart=!0;let i=setTimeout(()=>{this.initMove(),clearTimeout(i)},this.options.delayTime)}},beforeDestroy(){this.cancle(),this.VM&&this.VM.$destroy(),this.singleWaitTime&&clearTimeout(this.singleWaitTime)},methods:{handleCellMouseEnter(e){if(!this.table.mergeOption.showTip)return;const t=e.target,i=t.querySelector(".cell"),n=document.createRange();n.setStart(i,0),n.setEnd(i,i.childNodes.length);const r=n.getBoundingClientRect().width;if(r>i.offsetWidth){this.VM||this.createTooltip();let o=this.getOffsetTop(n);const{offsetLeft:s,arrowOffsetLeft:u}=this.getOffsetLeft(n,e,r);this.VM.$el.style.display="",this.tooltipContent=t.innerText||t.textContent,this.tipStyle=`z-index: 9999;position:fixed; left: ${s}px; top: ${o}px;`,this.arrowStyle=`left: ${u}px`}},createTooltip(){this.$createElement;const e=this;this.VM=new B.default({render(){const t=arguments[0];return t("div",{attrs:{"x-placement":"bottom"},ref:"tooltip",class:"el-tooltip__popper is-dark",style:e.tipStyle},[e.tooltipContent,t("div",{class:"popper__arrow",style:e.arrowStyle})])}}).$mount(),document.getElementsByTagName("body")[0].appendChild(this.VM.$el)},getOffsetTop(e){return e.getBoundingClientRect().top+35},getOffsetLeft(e,t,i){const n=e.getBoundingClientRect().left,r=L((i-t.target.clientWidth)/2),o=n-r,s=o<0?0:o,u=o<0?n+t.target.clientWidth/2:i/2;return{offsetLeft:s,arrowOffsetLeft:u}},handleCellMouseLeave(){this.VM&&(this.VM.$el.style.display="none")},reset(){this.cancle(),this.initMove()},cancle(){cancelAnimationFrame(this.reqFrame||"")},move(){this.isHover||(this.cancle(),this.reqFrame=requestAnimationFrame(()=>{const e=this.realBoxHeight/2;let{step:t}=this.options;Math.abs(this.yPos)>=e&&(this.yPos=0),this.yPos-=t,this.move()}))},singleMove(){this.isHover||(this.cancle(),this.reqFrame=requestAnimationFrame(()=>{const e=this.realBoxHeight/2;let{waitTime:t,singleStep:i,singleHeight:n}=this.options;Math.abs(this.yPos)>=e&&(this.yPos=0),this.yPos-=i,this.singleWaitTime&&clearTimeout(this.singleWaitTime),Math.abs(this.yPos)%n<i?this.singleWaitTime=setTimeout(()=>{this.singleMove()},t):this.singleMove()}))},initMove(){this.$nextTick(()=>{if(this.isStart){let e=setTimeout(()=>{this.realBoxHeight=this.$refs.realBox.offsetHeight,this.options.singleStepMove?this.singleMove():this.move(),clearTimeout(e)},0)}else this.cancle(),this.yPos=0})},startMove(){this.isHover=!1,this.isStart&&(this.options.singleStepMove?this.singleMove():this.move())},stopMove(){this.isHover=!0,this.singleWaitTime&&clearTimeout(this.singleWaitTime),this.cancle()}},render(){const e=arguments[0],t=this.store.tableHeader,i=this.tableData,n=this.realBoxHeight/2,{isIndex:r,showTip:o}=this.table.mergeOption,s=this.table.bodyWidth,u=this.table,a=this.pos,l=()=>{this.hoverStopSwitch&&this.stopMove()},h=()=>{this.hoverStopSwitch&&this.startMove()},f=d=>{u.$emit("lineClick",d)},c=()=>{this.yPos>0&&(this.yPos=-n),this.yPos+=20},v=()=>{Math.abs(this.yPos)>=n&&(this.yPos=0),this.yPos-=20};return e("div",{ref:"wrap"},[e("div",{class:"realBox",ref:"realBox",style:a,on:{mousewheel:d=>{this.isStart&&I(10,()=>{d.wheelDelta>0?c():v()})()},mouseenter:l,mouseleave:h}},[e("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"},style:`width:${s}px`},[e("colgroup",[r&&e("col",{attrs:{name:"column_0",width:"50"}}),t.map((d,y)=>!d.hidden&&e("col",{attrs:{name:`column_${y+1}`}}))]),e("tbody",[i.map((d,y)=>e("tr",{on:{click:()=>f(d)}},[r&&e("td",{class:["el-table__cell","is-center"]},[e("div",{class:["cell"]},[y+1])]),t.map(_=>!_.hidden&&e("td",{class:["el-table__cell","is-center"],on:{mouseenter:m=>this.handleCellMouseEnter(m),mouseleave:this.handleCellMouseLeave}},[e("div",{class:o?["cell","el-tooltip"]:["cell"]},[d[_.prop]])]))]))])])])])}},Me={name:"TableHeader",mixins:[R],props:{store:{required:!0}},computed:{table(){return this.$parent}},render(){const e=arguments[0],t=this.store.tableHeader,i=this.table.mergeOption.index;return e("table",{class:"el-table_header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[i&&e("col",{attrs:{name:"column_0",width:"50"}}),t.map((n,r)=>!n.hidden&&e("col",{attrs:{name:`column_${r+1}`}}))]),e("thead",{class:["is-group"]},[e("tr",[i&&e("th",{class:["el-table__cell","is-center"]},["\u5E8F\u53F7"]),t.map(n=>!n.hidden&&e("th",{attrs:{colspan:n.colSpan,rowspan:n.rowSpan},key:n.id,class:["el-table__cell","is-center"]},[e("div",{class:["cell"]},[n.label])]))])])])}},pe=function(){var e=this,t=e.$createElement;return e._self._c,e._m(0)},ge=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"empty",staticStyle:{width:"100%","text-align":"center"}},[i("img",{staticStyle:{width:"150px","margin-top":"20px"},attrs:{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyBjbGFzcz0iaWNvbiIgd2lkdGg9IjIwMHB4IiBoZWlnaHQ9IjIwMC4wMHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEwMi40IDg5NmE0MDkuNiA1MS4yIDAgMSAwIDgxOS4yIDAgNDA5LjYgNTEuMiAwIDEgMC04MTkuMiAwWiIgZmlsbD0iIzRBNjhDQyIgb3BhY2l0eT0iLjEiIC8+PHBhdGggZD0iTTExNi43MzYgMzc2LjgzMmMwIDguNzA0IDYuNjU2IDE1LjM2IDE1LjM2IDE1LjM2czE1LjM2LTYuNjU2IDE1LjM2LTE1LjM2LTYuNjU2LTE1LjM2LTE1LjM2LTE1LjM2Yy04LjE5MiAwLTE1LjM2IDcuMTY4LTE1LjM2IDE1LjM2ek05MjYuNzIgODMyYy0xOS40NTYgNS4xMi0yMy41NTIgOS4yMTYtMjguMTYgMjguMTYtNS4xMi0xOS40NTYtOS4yMTYtMjMuNTUyLTI4LjE2LTI4LjE2IDE4Ljk0NC01LjEyIDIzLjU1Mi05LjIxNiAyOC4xNi0yOC4xNiA0LjYwOCAxOC45NDQgOC43MDQgMjMuNTUyIDI4LjE2IDI4LjE2ek0yMDIuMjQgMzIzLjA3MmMtMjUuMDg4IDYuNjU2LTMwLjIwOCAxMS43NzYtMzYuODY0IDM2Ljg2NC02LjY1Ni0yNS4wODgtMTEuNzc2LTMwLjIwOC0zNi44NjQtMzYuODY0IDI1LjA4OC02LjY1NiAzMC4yMDgtMTIuMjg4IDM2Ljg2NC0zNi44NjQgNi4xNDQgMjUuMDg4IDExLjc3NiAzMC4yMDggMzYuODY0IDM2Ljg2NHpNODE2LjY0IDIzNS4wMDhjLTE1LjM2IDQuMDk2LTE4LjQzMiA3LjE2OC0yMi41MjggMjIuNTI4LTQuMDk2LTE1LjM2LTcuMTY4LTE4LjQzMi0yMi41MjgtMjIuNTI4IDE1LjM2LTQuMDk2IDE4LjQzMi03LjE2OCAyMi41MjgtMjIuNTI4IDMuNTg0IDE1LjM2IDcuMTY4IDE4LjQzMiAyMi41MjggMjIuNTI4ek04ODIuNjg4IDE1Ni4xNmMtMzkuOTM2IDEwLjI0LTQ4LjEyOCAxOC45NDQtNTguODggNTguODgtMTAuMjQtMzkuOTM2LTE4Ljk0NC00OC4xMjgtNTguODgtNTguODggMzkuOTM2LTEwLjI0IDQ4LjEyOC0xOC45NDQgNTguODgtNTguODggMTAuMjQgMzkuNDI0IDE4Ljk0NCA0OC4xMjggNTguODggNTguODh6IiBmaWxsPSIjNEE2OENDIiBvcGFjaXR5PSIuNSIgLz48cGF0aCBkPSJNNDE5Ljg0IDcxMy4yMTZ2NC4wOTZsMzMuNzkyIDMxLjIzMiAxMjkuNTM2LTYyLjk3Nkw0NjUuOTIgNzYwLjgzMnYzNi44NjRsMTguOTQ0LTE4LjQzMnYtMC41MTIgMC41MTJsMTguOTQ0IDE4LjQzMiAxMDAuMzUyLTEyMi44OHYtNC4wOTZ6IiBmaWxsPSIjNEE2OENDIiBvcGFjaXR5PSIuMiIgLz48cGF0aCBkPSJNODYwLjE2IDU1MS45MzZ2LTEuMDI0YzAtMS4wMjQtMC41MTItMS41MzYtMC41MTItMi41NnYtMC41MTJsLTExMC4wOC0yODcuMjMyYy0xNS44NzItNDguNjQtNjAuOTI4LTgxLjQwOC0xMTIuMTI4LTgxLjQwOEgzODcuMDcyYy01MS4yIDAtOTYuMjU2IDMyLjc2OC0xMTIuMTI4IDgxLjQwOEwxNjQuODY0IDU0Ny44NHYwLjUxMmMtMC41MTIgMS4wMjQtMC41MTIgMS41MzYtMC41MTIgMi41NlY3NTcuNzZjMCA2NS4wMjQgNTIuNzM2IDExNy43NiAxMTcuNzYgMTE3Ljc2aDQ2MC44YzY1LjAyNCAwIDExNy43Ni01Mi43MzYgMTE3Ljc2LTExNy43NnYtMjA0LjhjLTAuNTEyLTAuNTEyLTAuNTEyLTAuNTEyLTAuNTEyLTEuMDI0ek0zMDMuNjE2IDI3MS4zNnMwLTAuNTEyIDAuNTEyLTAuNTEyQzMxNS4zOTIgMjMzLjk4NCAzNDkuMTg0IDIwOS45MiAzODcuMDcyIDIwOS45MmgyNDkuODU2YzM3Ljg4OCAwIDcxLjY4IDI0LjA2NCA4My40NTYgNjAuNDE2IDAgMCAwIDAuNTEyIDAuNTEyIDAuNTEybDEwMS44ODggMjY2LjI0SDU4OC44Yy04LjcwNCAwLTE1LjM2IDYuNjU2LTE1LjM2IDE1LjM2IDAgMzMuNzkyLTI3LjY0OCA2MS40NC02MS40NCA2MS40NHMtNjEuNDQtMjcuNjQ4LTYxLjQ0LTYxLjQ0YzAtOC43MDQtNi42NTYtMTUuMzYtMTUuMzYtMTUuMzZIMjAxLjcyOEwzMDMuNjE2IDI3MS4zNnpNODI5LjQ0IDc1Ny43NmMwIDQ4LjEyOC0zOC45MTIgODcuMDQtODcuMDQgODcuMDRIMjgxLjZjLTQ4LjEyOCAwLTg3LjA0LTM4LjkxMi04Ny4wNC04Ny4wNHYtMTg5LjQ0aDIyNi44MTZjNy4xNjggNDMuNTIgNDUuMDU2IDc2LjggOTAuNjI0IDc2LjhzODMuNDU2LTMzLjI4IDkwLjYyNC03Ni44SDgyOS40NHYxODkuNDR6IiBmaWxsPSIjNEE2OENDIiBvcGFjaXR5PSIuNSIgLz48cGF0aCBkPSJNNTEyIDU3OC41NmMtMTQuMzM2IDAtMjUuNi0xMS4yNjQtMjUuNi0yNS42VjUwMS43NkgyNTMuNDRsODMuOTY4LTIxOS4xMzYgMC41MTItMS4wMjRjNy4xNjgtMjEuNTA0IDI2LjYyNC0zNS44NCA0OS4xNTItMzUuODRoMjQ5Ljg1NmMyMi41MjggMCA0MS45ODQgMTQuMzM2IDQ5LjE1MiAzNS44NGwwLjUxMiAxLjAyNEw3NzAuNTYgNTAxLjc2SDUzNy42djUxLjJjMCAxNC4zMzYtMTEuMjY0IDI1LjYtMjUuNiAyNS42eiIgZmlsbD0iIzRBNjhDQyIgb3BhY2l0eT0iLjIiIC8+PC9zdmc+"}}),i("p",[e._v("\u6682\u65E0\u6570\u636E")])])}];function H(e,t,i,n,r,o,s,u){var a=typeof e=="function"?e.options:e;t&&(a.render=t,a.staticRenderFns=i,a._compiled=!0),n&&(a.functional=!0),o&&(a._scopeId="data-v-"+o);var l;if(s?(l=function(c){c=c||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!c&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(c=__VUE_SSR_CONTEXT__),r&&r.call(this,c),c&&c._registeredComponents&&c._registeredComponents.add(s)},a._ssrRegister=l):r&&(l=u?function(){r.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(a.functional){a._injectStyles=l;var h=a.render;a.render=function(v,T){return l.call(T),h(v,T)}}else{var f=a.beforeCreate;a.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:a}}const ve={},Q={};var ye=H(ve,pe,ge,!1,me,null,null,null);function me(e){for(let t in Q)this[t]=Q[t]}var be=function(){return ye.exports}(),we="",Te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-table"},[i("div",{ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[i("table-header",{ref:"tableHeader",style:{width:e.parentWidth?e.parentWidth+"px":""},attrs:{store:e.store}})],1),i("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",style:"height: "+e.mergeOption.bodyHeight+"px;"},[i(e.module,{ref:"tableBody",tag:"component",style:{width:e.parentWidth?e.parentWidth+"px":""},attrs:{store:e.store}})],1)])},_e=[];const Le={name:"TableScroll",components:{TableHeader:Me,TableBody:fe,ImgEmpty:be},props:{tableHeader:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}}},data(){return{store:P(this),table:this,bodyWidth:"",module:"ImgEmpty"}},computed:{defaultOptions(){return{bodyHeight:300,index:!1,showTip:!0}},mergeOption(){return Object.assign({},this.defaultOptions,this.options)},bodyWrapper(){return this.$refs.headerWrapper},parentWidth(){const e=this.bodyWidth;return this.store.updateColumns(e),e}},watch:{tableHeader:{immediate:!0,handler(e){this.store.setData("tableHeader",e)}},tableData:{immediate:!0,handler(e){console.log(e,"val"),(e==null?void 0:e.length)>0&&(this.store.setData("tableData",e),this.module="TableBody")}}},created(){this.debouncedUpdateLayout=I(50,()=>this.doLayout())},mounted(){this.bindEvents(),this.updateColumnsWidth(),this.store.updateColumns(this.bodyWidth),this.$ready=!0},destroyed(){this.unbindEvents()},methods:{bindEvents(){he(this.$el,this.resizeListener)},unbindEvents(){de(this.$el,this.resizeListener)},resizeListener(){!this.$ready||this.updateColumnsWidth()},updateColumnsWidth(){this.bodyWidth=this.$el.clientWidth}}},W={};var je=H(Le,Te,_e,!1,Ne,null,null,null);function Ne(e){for(let t in W)this[t]=W[t]}var g=function(){return je.exports}();return g.install=(e,t={})=>{e.component(t.componentName||g.name,g)},typeof window!="undefined"&&window.Vue&&Vue.component(g.name,g),g});
